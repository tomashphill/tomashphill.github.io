(function(e){function t(t){for(var o,s,i=t[0],c=t[1],u=t[2],d=0,h=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);p&&p(t);while(h.length)h.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={app:0},a=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var p=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"0c1a":function(e,t,n){},"11c3":function(e,t,n){"use strict";n("ac9e")},"15fb":function(e,t,n){},"1cfb":function(e,t,n){},"21b9":function(e,t,n){},"28c2":function(e,t,n){"use strict";n("1cfb")},"30a1":function(e,t,n){"use strict";n("0c1a")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("div",{staticClass:"link-container"},[n("router-link",{attrs:{id:"title",to:"/"}},[e._v("Exquisite Corpse")])],1),n("div",{staticClass:"link-container"},[n("router-link",{attrs:{to:"/incompleted-corpses"}},[e._v("...INCOMPLETED CORPSES")])],1),n("div",{staticClass:"link-container"},[n("router-link",{attrs:{to:"/completed-corpses"}},[e._v("...COMPLETED CORPSES")])],1)]),n("router-view",{attrs:{id:"view"}})],1)},a=[],s=(n("034f"),n("2877")),i={},c=Object(s["a"])(i,r,a,!1,null,null,null),u=c.exports,p=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("img",{attrs:{src:"https://www.functionalstone.com/cv/images/exquisite-corpse-game(21).jpg"}}),n("div",{staticClass:"content"},[n("p",[e._v("Welcome!")]),n("p",[e._v("This is a small web application that mimics the well-known drawing game/activity called Exquisite Corpse.")]),n("p",[e._v("The rules are simple, and require at least 3 people. Take a piece of paper, and fold it three-ways. The first person should draw a head in the top third of the paper, which should be neatly subdivided by the folds. A head of what, you ask? Thatâ€™s up to the drawer! The imagination is the limit, anything goes, draw whatever comes to mind. Once that person is done drawing, they should fold the top-third of the paper so as to hide the head they just drew from the second person. The second person will now draw a body in the middle-third of the paper. Hopefully the first person drew a little over the top-third boundary to give the second person a hint of how the body should flow from the head. Once done, the second person should fold the paper to hide the head and body from the third person. The third person should now draw the legs.")]),n("p",[e._v("After all this, the exquisite corpse is complete! Unfold the paper and gawk at the creation!")]),n("p",[n("router-link",{staticClass:"create",attrs:{to:"/corpse-head"}},[e._v("Click here to create a corpse!")])],1),n("p",[e._v('Or help draw the bodies/legs of other corpses in "Incomplete Corpses".')])])])},h=[],l={name:"Home"},m=l,f=(n("cddf"),Object(s["a"])(m,d,h,!1,null,"1e1c459e",null)),v=f.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"incompleted-corpses"}},[n("ul",{attrs:{id:"incompleted-corpses-list"}},e._l(e.incompleteCorpses,(function(t){return n("li",{key:t.corpse_name},[n("a",{staticClass:"corpse-name",attrs:{title:t.desc},on:{click:function(n){return e.goToCorpseCreator(t)}}},[e._v(e._s(t.corpse_name))])])})),0)])},g=[];n("d3b7"),n("159b");function w(){var e=this,t={2:" needs a body...",3:" needs legs..."},n="https://exquisite-corpse-back.herokuapp.com/random_incomplete_corpses/"+this.NUM_TO_SHOW;fetch(n).then((function(e){return e.json()})).then((function(n){n.forEach((function(e){e.desc=e.corpse_name+t[e.stage]})),e.incompleteCorpses=n}))}function y(){}var C={name:"IncompleteCorpses",data:function(){return{NUM_TO_SHOW:100,incompleteCorpses:[]}},methods:{getIncompleteCorpses:w,getNumberOfCompletedCorpses:y,goToCorpseCreator:function(e){var t=this,n=e.corpse_name,o="https://exquisite-corpse-back.herokuapp.com/stage/"+n;fetch(o).then((function(e){return e.json()})).then((function(e){2===e?t.$router.push("./corpse-body/"+n):3===e?t.$router.push("./corpse-legs/"+n):t.$router.push("./completed-corpses/")}))}},mounted:function(){this.getIncompleteCorpses()}},_=C,k=(n("eee8"),Object(s["a"])(_,b,g,!1,null,"93c11476",null)),x=k.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rand-corpse"},[n("div",{staticClass:"desc"},[n("span",{staticClass:"corpse-name"},[e._v(e._s(e.name))]),n("button",{attrs:{type:"button"},on:{click:e.getRandomCorpse}},[e._v("Get a random corpse!")])]),n("div",[n("img",{attrs:{src:e.imageURL}})])])},j=[],T=(n("b0c0"),n("2b3d"),n("3ca3"),n("ddb0"),{methods:{loadCorpse:function(){var e=this;console.log("loading image...");var t="https://exquisite-corpse-back.herokuapp.com/corpses/"+this.name;fetch(t).then((function(e){return e.blob()})).then((function(t){e.imageURL=URL.createObjectURL(t)}))}},data:function(){return{imageURL:null}}});function R(){var e=this,t="https://exquisite-corpse-back.herokuapp.com/random-complete-corpse/";fetch(t).then((function(e){return e.json()})).then((function(t){return e.name=t}))}var S={name:"CompletedCorpses",data:function(){return{name:""}},watch:{name:function(){this.loadCorpse()}},methods:{getRandomCorpse:R},mounted:function(){this.getRandomCorpse()},mixins:[T]},$=S,L=(n("28c2"),Object(s["a"])($,O,j,!1,null,"1ea9662c",null)),E=L.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("Canvas",{staticClass:"editor",attrs:{imageURL:e.imageURL},on:{submit:e.submitCorpseBody}})],1)},I=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"description"},[n("p",[e._v("To draw, just click and drag on the paper at the bottom.")]),n("p",[e._v("This is the body of the corpse. Remember, you can't draw lower than the dotted line.")]),n("p",[e._v("Give the next drawer a hint by drawing a little past the fold. A body can be ANYTHING: Big, small, round, square, human, insect, arms, no arms, and on and on.")])])}],P=n("1da1"),N=(n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"corpse-creator"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:null!==e.imageURL,expression:"imageURL !== null"}],style:e.hidingStyle,attrs:{id:"sketchpad-container"}},[n("canvas",{ref:"canvas",style:e.canvasShift,attrs:{id:"sketchpad",width:e.width,height:e.height}}),n("div",{staticClass:"clipper",style:e.clipperStyle})]),n("button",{attrs:{type:"button"},on:{click:e.onSubmit}},[e._v("FINISH")])])}),q=[],H=(n("a9e3"),n("9270")),M=n.n(H),B=600,D=800,A=D*(2/3)-20,G={name:"Canvas",data:function(){return{width:B,height:D,canvas:null,sketchpad:null,radioPicked:"draw",clipperStyle:{width:B+"px",height:A+"px",top:D-A+"px"}}},watch:{radioPicked:function(e){this.sketchpad.mode=e},imageURL:function(){var e=this,t=new Image;t.src=this.imageURL,t.onload=function(){var n=e.canvas.getContext("2d");n.drawImage(t,0,0)}}},props:{bodyPart:Number,name:String,imageURL:String},computed:{hidingStyle:function(){return"CorpseBody"===this.$router.currentRoute.name?{height:D*(2/3)+"px",overflow:"hidden"}:"CorpseLegs"===this.$router.currentRoute.name?{height:D*(1/3)+20+"px",overflow:"hidden"}:{}},canvasShift:function(){return"CorpseBody"===this.$router.currentRoute.name?{transform:"translate(0, -".concat(D*(1/3),"px)")}:"CorpseLegs"===this.$router.currentRoute.name?{transform:"translate(0, -".concat(D*(2/3)-20,"px)")}:{}}},methods:{onSubmit:function(){this.$emit("submit",this.canvas)}},mounted:function(){this.canvas=this.$refs.canvas,this.sketchpad=new M.a(this.canvas),this.sketchpad.mode="draw"},destroyed:function(){var e="https://exquisite-corpse-back.herokuapp.com/close/"+this.name;fetch(e).then((function(e){return e.json()})).then(console.log)}},J=G,W=(n("7de8"),Object(s["a"])(J,N,q,!1,null,"57195a32",null)),F=W.exports,Y={methods:{updateImg:function(e){var t="https://exquisite-corpse-back.herokuapp.com/update-corpse/"+this.name,n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e.toDataURL()})};fetch(t,n).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}}},z={data:function(){return{name:this.$route.params.name}},components:{Canvas:F},methods:{submitCorpseBody:function(e){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.updateImg(e),t.$router.push("/incompleted-corpses");case 2:case"end":return n.stop()}}),n)})))()}},mixins:[T,Y],beforeMount:function(){this.loadCorpse()}},K=z,Q=(n("30a1"),Object(s["a"])(K,U,I,!1,null,"eff685e0",null)),V=Q.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"corpse-head"},[e._m(0),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],class:{"invalid-name":e.nameTaken},attrs:{id:"namer",placeholder:"Give your corpse a name!"},domProps:{value:e.name},on:{blur:e.isNameTaken,input:function(t){t.target.composing||(e.name=t.target.value)}}}),n("Canvas",{attrs:{name:e.name,bodyPart:0},on:{submit:e.submitCorpseHead}})],1)},Z=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"description"},[n("p",[e._v("To draw, just click and drag on the paper at the bottom. You can't draw lower than the dotted line")]),n("p",[e._v("This should be the head of your corpse. Draw anything you'd like, even if it doesn't resemble a head. Make sure you draw a little past the fold to give the next drawer a hint to how the head should connect to the body.")]),n("p",[e._v("Also, your corpse needs unique a name! Give it one. Click FINISH when you're done.")])])}],ee={methods:{isNameTaken:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.name){t.next=2;break}return t.abrupt("return",!1);case 2:return n="https://exquisite-corpse-back.herokuapp.com/corpse-name-taken/"+e.name,t.abrupt("return",fetch(n).then((function(e){return e.json()})).then((function(t){return e.nameTaken=t})).then(console.log));case 4:case"end":return t.stop()}}),t)})))()}},data:function(){return{nameTaken:!1}}},te={methods:{submitImg:function(e){var t="https://exquisite-corpse-back.herokuapp.com/create-corpse/"+this.name,n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e.toDataURL()})};fetch(t,n).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}}},ne={data:function(){return{name:""}},methods:{submitCorpseHead:function(e){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.isNameTaken();case 2:""===t.name||t.nameTaken||(t.submitImg(e),t.$router.push("/incompleted-corpses"));case 3:case"end":return n.stop()}}),n)})))()}},components:{Canvas:F},mixins:[ee,te]},oe=ne,re=(n("e64b"),Object(s["a"])(oe,X,Z,!1,null,"4647e42a",null)),ae=re.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("Canvas",{staticClass:"editor",attrs:{imageURL:e.imageURL},on:{submit:e.submitCorpseBody}})],1)},ie=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"description"},[n("p",[e._v("To draw, just click and drag on the paper to the right.")]),n("p",[e._v("This is the last part of the corpse. Draw whatever you'd like. Legs, wheels, claws, tentacles, or even another (maybe upside-down) head!")])])}],ce={data:function(){return{name:this.$route.params.name}},methods:{submitCorpseBody:function(e){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.updateImg(e),t.$router.push("/incompleted-corpses");case 2:case"end":return n.stop()}}),n)})))()}},beforeMount:function(){this.loadCorpse()},components:{Canvas:F},mixins:[T,Y]},ue=ce,pe=(n("11c3"),Object(s["a"])(ue,se,ie,!1,null,"9dab6dcc",null)),de=pe.exports;o["a"].use(p["a"]);var he=[{path:"/",name:"Home",component:v},{path:"/completed-corpses",name:"CompletedCorpses",component:E},{path:"/incompleted-corpses",name:"IncompletedCorpses",component:x},{path:"/corpse-head",name:"CorpseHead",component:ae},{path:"/corpse-body/:name",name:"CorpseBody",component:V},{path:"/corpse-legs/:name",name:"CorpseLegs",component:de}],le=new p["a"]({base:"/",routes:he}),me=le;o["a"].config.productionTip=!1,new o["a"]({router:me,render:function(e){return e(u)}}).$mount("#app")},"7de8":function(e,t,n){"use strict";n("d0b7")},"85ec":function(e,t,n){},ac9e:function(e,t,n){},c614:function(e,t,n){},cddf:function(e,t,n){"use strict";n("15fb")},d0b7:function(e,t,n){},e64b:function(e,t,n){"use strict";n("21b9")},eee8:function(e,t,n){"use strict";n("c614")}});
//# sourceMappingURL=app.d694f114.js.map